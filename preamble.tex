\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage[hidelinks]{hyperref}
\usepackage{lipsum}
\usepackage{indentfirst}
\usepackage{color}
\usepackage{url}
\usepackage{atbegshi}
\usepackage{mathtools}
\usepackage{tikz}

\abnormalparskip{0pt}

% Fonts
\usepackage{mathptmx} % math
\usepackage{sourcesanspro} % sans-serif
\usepackage{charter} % serif

% Date
\usepackage{datetime}
\newdateformat{titlepagedate}{\monthname[\THEMONTH] \THEYEAR}

% Extra packages
\usepackage{microtype}
\usepackage{etoolbox}

% Margins
\setlrmarginsandblock{2.9cm}{2cm}{*}
\setulmarginsandblock{2.5cm}{2.5cm}{*}
\checkandfixthelayout

% Chapter style
\makechapterstyle{chstyle}{%
	\renewcommand\chapnamefont{%
		\normalfont\Huge\sffamily
	}
	\renewcommand\chaptitlefont{%
		\normalfont\Huge\sffamily\bfseries
	}
	\renewcommand\printchapternum{\chapnamefont\HUGE\thechapter}
}
\chapterstyle{chstyle}

% Headers and footers
\definecolor{shadecolor}{rgb}{.4, .4, .4}
% Normal page style
\makepagestyle{hfpage}
\makeevenhead{hfpage}{\color{shadecolor}\scshape\leftmark}{}{}
\makeoddhead{hfpage}{}{}{\color{shadecolor}\scshape\rightmark}
\makeevenfoot{hfpage}{\color{shadecolor}\thepage}{}{}
\makeoddfoot{hfpage}{}{}{\color{shadecolor}\thepage}

\makepsmarks{hfpage}{%
	\nouppercaseheads
	\createmark{chapter}{left}{shownumber}{}{. \space}
}

% Chapters
\makepagestyle{hfchapter}
\makeevenhead{hfchapter}{}{}{}
\makeoddhead{hfchapter}{}{}{}
\makeevenfoot{hfchapter}{\color{shadecolor}\thepage}{}{}
\makeoddfoot{hfchapter}{}{}{\color{shadecolor}\thepage}

\pagestyle{hfpage}
\aliaspagestyle{chapter}{hfchapter}

% Bibliography
\usepackage[backend=biber, sorting=none, maxnames=99, maxbibnames=99, firstinits=true, uniquename=false, uniquelist=false, url=false, doi=false, isbn=false]{biblatex}

% Print your publication
\DeclareCiteCommand{\printpublication}
{\boolfalse{citetracker}%
	\boolfalse{pagetracker}%
	\DeclareNameAlias{labelname}{first-last}%
	\usebibmacro{prenote}}
{\ifciteindex
	{\indexnames{labelname}}
	{}%
	\printnames{labelname}. \printfield{title}. %
	\ifentrytype{inproceedings}{\printfield{booktitle}}{}%
	\ifentrytype{article}{\printfield{journaltitle}}{}, \printfield{year}.}
{\multicitedelim}
{\usebibmacro{postnote}}

% Remove In: from journal articles
\renewbibmacro{in:}{%
	\ifentrytype{article}{}{%
		\ifentrytype{inproceedings}{}{%
			\printtext{\bibstring{in}\intitlepunct}
		}
	}
}

% Bib file
\addbibresource{bib/library.bib}

% Change table of contents name
\addto\captionsenglish{% Replace "english" with the language you use
	\renewcommand{\contentsname}%
	{Table of Contents}%
}